import { useNavigate } from "react-router-dom";
import { TMailingItem } from "../../types";
import './MailingItem.scss'

interface IProps extends TMailingItem {
  bgColor?: 'white' | 'transparent'
  withTitle?: boolean
}

export const MailingItem = (props: IProps) => {
  const bgColorClassName = props.bgColor 
    ? props.bgColor === 'white' ? 'mailing__block-white' : 'mailing__block-transparent'
    : 'mailing__block-white'

  const navigate = useNavigate()

  return (
    <>
      {props.withTitle && <div className="mailing__item-title"><span>Рассылка №</span> {props.id}</div>}
      <li style={{cursor: 'pointer'}} onClick={() => navigate('/report')} className='mailing__item-wrapper mailing__item-content'>
        <div className={`mailing__block ${bgColorClassName} mailing__block-border-left`}>{props.id}</div>
        <div className={`mailing__block ${bgColorClassName}`}>{props.title}</div>
        <div className={`mailing__block ${bgColorClassName}`}>{props.channel}</div>
        <div className={`mailing__block ${bgColorClassName}`}>{props.date} <span style={{marginLeft: '10px'}}>{props.time}</span></div>
        <div style={{cursor: 'default'}} onClick={e => e.stopPropagation()} className={`mailing__block ${bgColorClassName} mailing__block-border-right`}>
          <div className="mailing__btns-wrapper">
            <button>
              <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="28" height="28" rx="4" fill="#4299FF"/>
                <path d="M20 14L11 19.1962L11 8.80385L20 14Z" fill="white"/>
              </svg>
            </button>
            <button>
              <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="28" height="28" rx="4" fill="#4299FF"/>
                <path d="M20 11.4058C20.0004 11.3202 19.9853 11.2354 19.9555 11.1562C19.9256 11.077 19.8816 11.005 19.826 10.9443L17.282 8.1885C17.2259 8.12826 17.1594 8.0806 17.0863 8.04826C17.0132 8.01591 16.935 7.99952 16.856 8.00001C16.777 7.99952 16.6988 8.01591 16.6257 8.04826C16.5525 8.0806 16.4861 8.12826 16.43 8.1885L14.732 10.0279L8.17401 17.1318C8.1184 17.1926 8.07441 17.2646 8.04455 17.3438C8.01469 17.423 7.99955 17.5078 8.00001 17.5933V20.3491C8.00001 20.5215 8.06322 20.6868 8.17575 20.8087C8.28827 20.9306 8.44088 20.999 8.60001 20.999H11.144C11.228 21.004 11.3119 20.9898 11.3905 20.9573C11.4691 20.9248 11.5404 20.8748 11.6 20.8106L18.122 13.7066L19.826 11.8997C19.8808 11.8367 19.9254 11.7642 19.958 11.6852C19.9638 11.6334 19.9638 11.5811 19.958 11.5292C19.9608 11.499 19.9608 11.4685 19.958 11.4383L20 11.4058ZM10.898 19.6991H9.20001V17.8598L15.158 11.4058L16.856 13.2451L10.898 19.6991ZM17.702 12.3287L16.004 10.4893L16.856 9.57289L18.548 11.4058L17.702 12.3287Z" fill="white"/>
              </svg>
            </button>
            <button onClick={() => navigate('/profile')}>
              <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="28" height="28" rx="4" fill="#4299FF"/>
                <path d="M14.7004 10.2041C14.3741 10.2041 14.1153 10.117 13.9241 9.94286C13.744 9.76871 13.654 9.52925 13.654 9.22449C13.654 8.88707 13.7665 8.59864 13.9916 8.35918C14.2166 8.11973 14.5204 8 14.903 8C15.2293 8 15.4824 8.08707 15.6624 8.26122C15.8537 8.43537 15.9494 8.67483 15.9494 8.97959C15.9494 9.31701 15.8368 9.60544 15.6118 9.8449C15.398 10.0844 15.0942 10.2041 14.7004 10.2041ZM12 12.098L12.0844 11.6408H15.3249L14.2785 17.4694C14.1435 18.2313 14.0759 18.7374 14.0759 18.9878C14.0872 19.2272 14.1772 19.3469 14.346 19.3469C14.5035 19.3469 14.6723 19.2599 14.8523 19.0857C15.0323 18.9116 15.1955 18.6177 15.3418 18.2041L16 18.5633C15.7525 19.0639 15.4543 19.4286 15.1055 19.6571C14.7567 19.8857 14.3572 20 13.9072 20C13.2883 20 12.8326 19.7932 12.5401 19.3796C12.2475 18.9551 12.1688 18.3619 12.3038 17.6L13.1308 13.0122C13.1983 12.6422 13.2208 12.4245 13.1983 12.3592C13.1758 12.283 13.0802 12.234 12.9114 12.2122L12 12.098Z" fill="white"/>
              </svg>
            </button>
            <button>
              <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="28" height="28" rx="4" fill="#4299FF"/>
                <path d="M15.4987 14.5001L19.9612 10.0447C20.0946 9.91133 20.1696 9.73043 20.1696 9.5418C20.1696 9.35317 20.0946 9.17226 19.9612 9.03888C19.8279 8.9055 19.647 8.83057 19.4583 8.83057C19.2697 8.83057 19.0888 8.9055 18.9554 9.03888L14.5 13.5014L10.0446 9.03888C9.9112 8.9055 9.73029 8.83057 9.54166 8.83057C9.35303 8.83057 9.17213 8.9055 9.03875 9.03888C8.90537 9.17226 8.83043 9.35317 8.83043 9.5418C8.83043 9.73043 8.90537 9.91133 9.03875 10.0447L13.5012 14.5001L9.03875 18.9555C8.97236 19.0214 8.91966 19.0997 8.8837 19.1861C8.84774 19.2724 8.82922 19.365 8.82922 19.4585C8.82922 19.552 8.84774 19.6446 8.8837 19.7309C8.91966 19.8172 8.97236 19.8955 9.03875 19.9614C9.1046 20.0278 9.18294 20.0805 9.26926 20.1164C9.35557 20.1524 9.44816 20.1709 9.54166 20.1709C9.63517 20.1709 9.72776 20.1524 9.81407 20.1164C9.90039 20.0805 9.97873 20.0278 10.0446 19.9614L14.5 15.4989L18.9554 19.9614C19.0213 20.0278 19.0996 20.0805 19.1859 20.1164C19.2722 20.1524 19.3648 20.1709 19.4583 20.1709C19.5518 20.1709 19.6444 20.1524 19.7307 20.1164C19.8171 20.0805 19.8954 20.0278 19.9612 19.9614C20.0276 19.8955 20.0803 19.8172 20.1163 19.7309C20.1523 19.6446 20.1708 19.552 20.1708 19.4585C20.1708 19.365 20.1523 19.2724 20.1163 19.1861C20.0803 19.0997 20.0276 19.0214 19.9612 18.9555L15.4987 14.5001Z" fill="white"/>
              </svg>
            </button>
          </div>
        </div>
      </li>
    </>
  );
};